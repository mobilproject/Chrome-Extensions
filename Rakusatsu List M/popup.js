

var chassis = new Object;
var bet;
var cars = new Object;
var array = [];
var arrayh4 = [];
var arrayltp = [];
var arraylth4 = [];
var currenthtml;
var latesthtml;
var p;
var cmodel;
var mn;
var m;
var t;
var at;
var si;
var oldCarList = [];


chassis = {
"ZRT260":[["3063423","3076538"]],
"NZT260":[["3060422","3091507"]],
"NHW20":[["3560618","3577619"]],
"AK12":[["955332","973937"]],
"C11":[["353899","373332"],["400001","409826"]],
"DE3FS":[["271020","319597"],["350004","363377"]],
"E11":[["480593","529849"],["550001","556138"],["600001","600315"],["700001","703722"]],
"GE6":[["1323365","1427417"],["1500001","1530718"],["3000050","3001328"],["8100043","8100399"],["8200001","8200073"]],
"GE7":[],
"GE8":[],
"GE9":[],
"GP1":[],
"JC11":[],
"K13":[["000077","005301"],["300001","333986"]],
"KGC10":[["0309396","0313881"]],
"QNC10":[["0113973","0114003"]],
"KGC15":[],
"KGC30":[],
"KGC35":[],
"KSP90":[["5172063","5228759"],["2100391","2103343"]],
"KSP92":[],
"NC11":[],
"NCP50V":[],
"NCP51":[["0234806","0255342"]],
"CBE-NCP51":[["0234806","0255342"]],
"NCP51V":[["0234806","0255342"]],
"NCP52V":[],
"NCP55V":[],
"NCP58G":[],
"NCP81":[["5115908","5140104"]],
"NCP81G":[["5115908","5140104"]],
"NCP85G":[],
"NCP91":[],
"NCP95":[],
"NCP100":[["2000006","2019328"]],
"NCP120":[],
"NCP125":[],
"NCZ20":[["0139360","0142835"]],
"NE11":[],
"NGC30":[["0001006","0012841"]],
"NK13":[],
"NNP10":[["5057594","5068216"]],
"NNP11":[],
"NNP15":[],
"NSP120":[],
"NY12":[],
"SC11":["251510","300001"],
"SCP90":[["5145188","5189090"],["2074506","2097814"]],
"SCP92":[["1068320","1078276"]],
"SCP100":[["2000009","2012116"],["1000101","1000310"]],
"SNC11":[],
"SZC11":[],
"VAY12":[],
"VJY12":[],
"VY12":[["066260","076908"],["080001","085483"],["511800","513022"],["601031","601642"],["520001","520850"],["610001","610375"]],
"VZNY12":[],
"Y12":[["114035","119463"],["130001","132979"]],
"ZE11":[],
"ACA31":[["5046167","5050514"]],
"ACA31W":[["5046167","5050514"]],
"ZGM10":[["0006130","0024279"]],
"ZGM10G":[["0006130","0024279"]],
"ZGM10W":[["0006130","0024279"]],
"ZVW30":[["0333636","0436433"],["5381296","5758501"],["1487276","1917269"]],
"ZVW40":[["3009298","3106030"],["0001001","0014935"]],
"ZVW40W":[["3009298","3106030"],["0001001","0014935"]],
"ZVW41":[["3073984","3375362"],["0001001","0025357"]],
"ZVW41W":[["3073984","3375362"],["0001001","0025357"]],
"ZGE20":[["0049864","0097214"],["5001001","5001653"]],
"ZGE20G":[["0049864","0097214"],["5001001","5001653"]],
"ZGE20W":[["0049864","0097214"],["5001001","5001653"]],
"ZRE142":[["6015762","6017106"],["9105841","9129934"]],
"ZRE142G":[["6015762","6017106"],["9105841","9129934"]],
"DBA-ZRE142":[["6015762","6017106"],["9105841","9129934"]],
"DBA-ZRE142G":[["6015762","6017106"],["9105841","9129934"]],
"NZE141":[["6144213","6177127"],["9134122","9177613"]],
"NZE141G":[["6144213","6177127"],["9134122","9177613"]]
};

var chassisold = {
"ZRT260":[["3063423","3076538"]],
"NZT260":[["3060422","3091507"]],
"NHW20":[["3560618","3577619"]],
"AK12":[["955332","973937"]],
"C11":[["353899","373332"],["400001","409826"]],
"DE3FS":[["271020","319597"],["350004","363377"]],
"E11":[["480593","529849"],["550001","556138"],["600001","600315"],["700001","703722"]],
"GE6":[["1323365","1427417"],["1500001","1530718"],["3000050","3001328"],["8100043","8100399"],["8200001","8200073"]],
"GE7":[],
"GE8":[],
"GE9":[],
"GP1":[],
"JC11":[],
"K13":[["000077","005301"],["300001","333986"]],
"KGC10":[["0309396","0313881"]],
"QNC10":[["0113973","0114003"]],
"KGC15":[],
"KGC30":[],
"KGC35":[],
"KSP90":[["5172063","5228759"],["2100391","2103343"]],
"KSP92":[],
"NC11":[],
"NCP50V":[],
"NCP51":[["0234806","0255342"]],
"CBE-NCP51":[["0234806","0255342"]],
"NCP51V":[["0234806","0255342"]],
"NCP52V":[],
"NCP55V":[],
"NCP58G":[],
"NCP81":[["5115908","5140104"]],
"NCP81G":[["5115908","5140104"]],
"NCP85G":[],
"NCP91":[],
"NCP95":[],
"NCP100":[["2000006","2019328"]],
"NCP120":[],
"NCP125":[],
"NCZ20":[["0139360","0142835"]],
"NE11":[],
"NGC30":[["0001006","0012841"]],
"NK13":[],
"NNP10":[["5057594","5068216"]],
"NNP11":[],
"NNP15":[],
"NSP120":[],
"NY12":[],
"SC11":["251510","300001"],
"SCP90":[["5145188","5189090"],["2074506","2097814"]],
"SCP92":[["1068320","1078276"]],
"SCP100":[["2000009","2012116"],["1000101","1000310"]],
"SNC11":[],
"SZC11":[],
"VAY12":[],
"VJY12":[],
"VY12":[["066260","076908"],["080001","085483"],["511800","513022"],["601031","601642"],["520001","520850"],["610001","610375"]],
"VZNY12":[],
"Y12":[["114035","119463"],["130001","132979"]],
"ZE11":[],
"ACA31":[["5046167","5050514"]],
"ACA31W":[["5046167","5050514"]],
"ZGM10":[["0006130","0024279"]],
"ZGM10G":[["0006130","0024279"]],
"ZGM10W":[["0006130","0024279"]],
"ZVW30":[["0333636","0436433"],["5381296","5758501"],["1487276","1917269"]],
"ZVW40":[["3009298","3106030"],["0001001","0014935"]],
"ZVW40W":[["3009298","3106030"],["0001001","0014935"]],
"ZVW41":[["3073984","3375362"],["0001001","0025357"]],
"ZVW41W":[["3073984","3375362"],["0001001","0025357"]],
"ZGE20":[["0049864","0097214"],["5001001","5001653"]],
"ZGE20G":[["0049864","0097214"],["5001001","5001653"]],
"ZGE20W":[["0049864","0097214"],["5001001","5001653"]],

"ZRE142":[["6013658","6015761"],["9095151","9105840"]],
"ZRE142G":[["6013658","6015761"],["9095151","9105840"]],
"DBA-ZRE142":[["6013658","6015761"],["9095151","9105840"]],
"DBA-ZRE142G":[["6013658","6015761"],["9095151","9105840"]],
"NZE141":[["6118708","6144212"],["9109412","9134121"]],
"NZE141G":[["6118708","6144212"],["9109412","9134121"]],
};


cars = {
"AK12" : 8,//March
"BNK12":0,
"C11":20,//Tiida
"DE3AS":0,
"DE3FS":20,//demio
"DE5FS":0,
"E11":15,
"GE6":13,
"GE7":0,
"GE8":0,
"GE9":0,
"GP1":0,
"JC11":0,
"K13":13,
"KGC10":10,//Passo
"KGC15":0,
"KGC30":0,
"KGC35":0,
"KSP90":15,//1000cc Vitz
"KSP92":0,
"NC11":0,
"NCP50V":0,
"NCP51V":35,//Succeed
"CBE-NCP51":35,
"NCP51":35,
"NCP52V":0,
"NCP55V":30,//Probox
"NCP58G":28,//Succeed
"NCP58":28,
"NCP59G":0,
"NCP81G":28,//Succeed
"NCP81":28,
"NCP85G":0,
"NCP85":0,
"NCP91":0,
"NCP95":0,
"NCP96":0,
"NCP100":30,
"NCP105":0,
"NCP120":0,
"NCP125":0,
"NCZ20":0,
"NE11":0,
"NGC30":20,
"NK13":0,
"NNP10":27,//Porte
"NNP11":0,
"NNP15":0,
"NSP120":0,
"NY12":0,
"SC11":25,//Tiida Latio
"SCP90":22,//Vitz
"SCP92":37,//Belta
"SCP100":36,//Ractis
"SNC11":0,
"SZC11":0,
"VAY12":10,//AD
"VJY12":0,
"VY12":10,//AD
"VZNY12":0,
"Y12":27,//Wingroad
"ZE11":0,
"ZVW30":50,
"ZVW40":50,
"ZVW40W":50,
"ZVW41":50,
"ZVW41W":50,
"ZGM10":40,
"ZGM10G":40,
"ZGM10W":40,
"ZRE142":52,//fielder
"ZRE142G":52,
"NZE141":54,
"NZE141G":54
};


var mod;
var sp;
var nb;



var list;
var listName;


function priceCheck(cm, i)
{
	sp = $(".startprice").eq(i).text();
	sp = sp.slice(0,sp.indexOf("."));
	
	//console.log(cm + " " + i);
	
	if (cars[cm]>=sp)
	{
		//console.log("It is cheaper than set price");
		return true;
	} else return false;
}




	
function startLM(l)
{
	listName = l;
	for (var i=0;i<100;i++)
	{
		mod = $(".type").eq(i).text();
		
		//nb = $("a[title='次へ→']").trigger("click");
		//console.log(mod.text() + " " + );
		
		if($('input[value=' + listName + ']')[i]) 
			{
				if (priceCheck(mod, i))
				{
					console.log(" cars added to list " + listName); 
					$('input[value=' + listName + ']')[i].click();
				}
				
				
				
			}
	}
	
}



$("#a").click(function(){
//  chrome.extension.sendMessage({ msg: "A" });
startLM("A");
console.log("A");
});

$("#b").click(function(){
   startLM("B");
});
$("#c").click(function(){
    startLM("C");
});
$("#d").click(function(){
    startLM("D");
});


